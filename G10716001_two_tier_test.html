<html>
<head>
    <style>
        html,
        body {
            height: 100%;
            background-color: #d8da3d;
        }
        
        input[type="radio"] {
            -ms-transform: scale(1.5);
            /* IE 9 */
            -webkit-transform: scale(1.5);
            /* Chrome, Safari, Opera */
            transform: scale(1.5);
        }
        
        div.fontA {
            font-size: xx-large;
        }
        
        table {
            font-size: 16px;
        }
        
        table.fixed {
            table-layout: fixed;
        }
        
        table.fixed td {
            overflow: hidden;
        }

    </style>
</head>
<script>
    var sc = 0,
        x1;
    var firstans = [1, 2, 2, 4, 3, 3]; //firstans[pn]==cans
    var secondans = [2, 1, 3, 4, 3, 4]; //secondans[pn]==cans2

    var twotierQ = [];
	// q1.
    twotierQ[0] = "關於電腦病毒下列何者是正確?";
    twotierQ[1] = "A.電腦病毒會傳染";
    twotierQ[2] = "B.電腦病毒是由電腦系統的錯誤（bug)變異產生（如同電影的異形）";
    twotierQ[3] = "C.電腦病毒會影響你的健康";
    twotierQ[4] = "D.電腦病毒只會影響（如刪除、竊取、竄改）你的資料";
    twotierQ[5] = "A.電腦病毒附著在資料中，所以很容易散佈"; //cans==1, pn*20+cans*4+1
    twotierQ[6] = "B.電腦病毒是程式，所以擁有複製能力";
    twotierQ[7] = "C.電腦病毒是因網路設備不正常運作，而帶到連線電腦";
    twotierQ[8] = "D.是生物病毒變異產生，所以會傳染";
    twotierQ[9] = "A.電腦bug會造成不正常行為"; //cans==2, pn*20+cans*4+1==9
    twotierQ[10] = "B.因人工智慧使電腦系統產生變異";
    twotierQ[11] = "C.因大數據技術使電腦系統產生變異";
    twotierQ[12] = "D.因電腦系統管理不當所造成";
    twotierQ[13] = "A.電腦病毒如同生物病毒"; //cans==3, pn*20+cans*4+1==13
    twotierQ[14] = "B.電腦病毒會迷惑使用者失去控制，而影響健康";
    twotierQ[15] = "C.電腦病毒會發射不好信號，影響健康";
    twotierQ[16] = "D.電腦病毒是邪惡且有智慧病毒，所以會影響健康";
    twotierQ[17] = "A.因為資料是最重要的資產"; //cans==4, pn*20+cans*4+1==17
    twotierQ[18] = "B.因為人不易察覺資料被病毒改變";
    twotierQ[19] = "C.因為病毒是以破壞資料為樂趣";
    twotierQ[20] = "D.因為資料被影響，不易復原";
	// q2.
    twotierQ[21] = "那個惡意軟體會開啟被遠端主機控制的應用程式?"; // question 2
    twotierQ[22] = "A.木馬程式";
    twotierQ[23] = "B.後門程式";
    twotierQ[24] = "C.電腦蠕蟲";
    twotierQ[25] = "D.釣魚郵件";
	// [木馬程式]
    twotierQ[26] = "A.隱藏於看似正常檔案的惡意軟體";
    twotierQ[27] = "B.執行攻擊的程式";
    twotierQ[28] = "C.透過電腦後門入侵";
    twotierQ[29] = "D.會自我複製";
	// [後門程式]
    twotierQ[30] = "A.一般Server端會常駐於被害者的電腦提供入侵管道";
    twotierQ[31] = "B.是管理者使用的遠端管理程式";
    twotierQ[32] = "C.大多數是藉由類似病毒感染的方式傳遞";
    twotierQ[33] = "D.駭客用的下載媒介";
	// [電腦蠕蟲]
    twotierQ[34] = "A.會透過電腦漏洞感染";
    twotierQ[35] = "B.執行攻擊的程式";
    twotierQ[36] = "C.不同於病毒不會自我複製";
    twotierQ[37] = "D.以上皆是";
	// [釣魚郵件]
    twotierQ[38] = "A.會透過電腦後門入侵";
    twotierQ[39] = "B.誘騙進入假網站";
    twotierQ[40] = "C.竊取使用者帳號密碼";
    twotierQ[41] = "D.未執行攻擊的程式";
	// q3.
    twotierQ[42] = "癱瘓網站何者為是?";
    twotierQ[43] = "A.對於SQL伺服器做破壞攻擊";
    twotierQ[44] = "B.發動大量攻擊封包";
    twotierQ[45] = "C.植入電腦病毒";
    twotierQ[46] = "D.社交網路釣魚攻擊";
	// [對於SQL伺服器做破壞攻擊]
    twotierQ[47] = "A.SQL伺服器是前端服務";
    twotierQ[48] = "B.使之無法透過SQL伺服器存取網頁資料";
    twotierQ[49] = "C.平時要有備份";
    twotierQ[50] = "D.以上皆是";
	// [發動大量攻擊封包]
    twotierQ[51] = "A.大量電腦資料被竊取";
    twotierQ[52] = "B.通常發生在個人電腦";
    twotierQ[53] = "C.分散式阻斷服務(DDoS)攻擊";
    twotierQ[54] = "D.以上皆是";
	// [植入電腦病毒]
    twotierQ[55] = "A.受電腦病毒以致癱瘓";
    twotierQ[56] = "B.通常發生在個人電腦";
    twotierQ[57] = "C.發動中毒的網路設備向受害網站攻擊";
    twotierQ[58] = "D.以上皆是";
	// [社交網路釣魚攻擊]
    twotierQ[59] = "A.受網路釣魚攻擊以致網站癱瘓";
    twotierQ[60] = "B.指大量電腦資料被竊取";
    twotierQ[61] = "C.以欺騙手法將惡意程式植入";
    twotierQ[62] = "D.以上皆是";
	// q4.
    twotierQ[63] = "何者是DDoS?";
    twotierQ[64] = "A.指被藉機勒索 denial-of-access attack";
    twotierQ[65] = "B.一旦參觀網站就會被攻擊或被感染惡意程式";
    twotierQ[66] = "C.SQL Injection攻擊";
    twotierQ[67] = "D.癱瘓網站";
	// [指被藉機勒索 denial-of-access attack]
    twotierQ[68] = "A.將受害者的電腦鎖起來要求受害者繳納贖金以取回對電腦的控制權";
    twotierQ[69] = "B.勒索使用者的網路銀行帳號密碼";
    twotierQ[70] = "C.竊取大量資料";
    twotierQ[71] = "D.以上皆是";
	// [一旦參觀網站就會被攻擊或被感染惡意程式]
    twotierQ[72] = "A.屬於社交網路釣魚攻擊";
    twotierQ[73] = "B.駭客企圖竊取個人資料";
    twotierQ[74] = "C.提高警覺不連結及登入未經確認的網站";
    twotierQ[75] = "D.以上皆是";
	// [SQL Injection攻擊]
    twotierQ[76] = "A.通常發生在個人電腦";
    twotierQ[77] = "B.駭客自動掃描並嘗試各種SQL的漏洞來攻擊";
    twotierQ[78] = "C.不連結及登入未經確認的網站,就可以避免攻擊";
    twotierQ[79] = "D.以上皆是";
	// [癱瘓網站]
    twotierQ[80] = "A.定期對網站做弱點掃描滲透及演練防禦方案";
    twotierQ[81] = "B.分散式阻斷服務(Distributed Denial of Service)";
    twotierQ[82] = "C.發出大量合法或偽造之請求封包,占用大量網路及設備資源,以達到癱瘓攻擊";
    twotierQ[83] = "D.以上皆是";
	// q5.
    twotierQ[84] = "某網站貼出公告[網頁遭惡意攻擊課程資料庫損毀目前搶修中不便之處敬請見諒],這是遭受什麼樣的資安攻擊?";
    twotierQ[85] = "A.電腦蠕蟲";
    twotierQ[86] = "B.木馬程式";
    twotierQ[87] = "C.SQL Injection攻擊";
    twotierQ[88] = "D.癱瘓網站攻擊";
	// [電腦蠕蟲]
    twotierQ[89] = "A.要執行被感染的程式才有傳播的能力";
    twotierQ[90] = "B.消耗大量的系統記憶體或網路頻寬,導致網頁伺服器網路伺服器和電腦停止回應";
    twotierQ[91] = "C.是電腦病毒";
    twotierQ[92] = "D.以上皆是";
	// [木馬程式]
    twotierQ[93] = "A.是電腦病毒";
    twotierQ[94] = "B.會自行複製傳播";
    twotierQ[95] = "C.像正常應用程式用來入侵您的系統,並且讓駭客遠端控制您的電腦";
    twotierQ[96] = "D.以上皆非";
	// [SQL Injection攻擊]
    twotierQ[97] = "A.進行計算雜湊函數值判斷";
    twotierQ[98] = "B.採用HTTPS安全連線防護";
    twotierQ[99] = "C.採用ModSecurity防火牆對SQL指令進行過濾動作來防範惡意攻擊";
    twotierQ[100] = "D.以上皆是";
	// [癱瘓網站攻擊]
    twotierQ[101] = "A.遭遇時將攻擊導入流量清洗中心因應";
    twotierQ[102] = "B.攻擊目的是讓主機的網路及所提供的服務停止";
    twotierQ[103] = "C.DDoS攻擊封包會假造來源IP擾亂追查";
    twotierQ[104] = "D.以上皆是";
	// q6.
    twotierQ[105] = "駭客網路入侵模式,那個行為可以防範[弱點刺探]?";
    twotierQ[106] = "A.勿使用P2P軟體";
    twotierQ[107] = "B.謹慎開啟信件附加檔案";
    twotierQ[108] = "C.定期更新修補弱點";
    twotierQ[109] = "D.安裝防火牆";
	// [勿使用P2P軟體]
    twotierQ[110] = "A.P2P軟體會開放弱點容易入侵";
    twotierQ[111] = "B.可以防止資料被竊取";
    twotierQ[112] = "C.P2P軟體下載未經合法授權著作";
    twotierQ[113] = "D.以上皆是";
	// [謹慎開啟信件附加檔案]
    twotierQ[114] = "A.會執行附加檔造成感染";
    twotierQ[115] = "B.可以阻擋入侵到系統弱點";
    twotierQ[116] = "C.郵件附加檔案能被植入惡意程式";
    twotierQ[117] = "D.以上皆是";
	// [定期更新修補弱點]
    twotierQ[118] = "A.即時更新作業系統及應用程式之修補程式";
    twotierQ[119] = "B.隨時都有新的零時差漏洞";
    twotierQ[120] = "C.駭客攻擊事件層出不窮,定期修補漏洞弱點,確保資訊安全.";
    twotierQ[121] = "D.以上皆是";
	// [安裝防火牆]
    twotierQ[122] = "A.安裝防火牆可以阻擋入侵到系統弱點";
    twotierQ[123] = "B.安裝防火牆可以修復系統弱點";
    twotierQ[124] = "C.防火牆可以清除電腦病毒";
    twotierQ[125] = "D.以上皆非";
	
	var TOTAL_QUESTION_ITEMS = 6; //選取10題
	var TIME_ON=100;
	var TIME_OFF=-1;
	var COUNTDOWN = TIME_ON;
	var MAX_ARRAY_NUMBER = TOTAL_QUESTION_ITEMS;
    var pn = 0,
        cans = 0;
    var rec = new Array(MAX_ARRAY_NUMBER);
    var close = ['s1', 's2', 's3', 's4', 'c1'];
    var second_close = ['ss1', 'ss2', 'ss3', 'ss4', 'c2']

    function getQuiz() {
        // initial   // clear score: rec[]
        for (var i = 0; i < MAX_ARRAY_NUMBER; i++) {
            rec[i] = 0;
        }
	}
	
    function score_sumup() {
        sc = rec.reduce((a, b) => a + b);
        return sc >= TOTAL_QUESTION_ITEMS ? 100 : 0;
    }
	
    function report() {
        window.document.getElementById('score').innerHTML = 'Score:<font color=red>' + sc + '分<font>';
    }

	function radioCheck_OK(){
		var value=null;
		
		var radios = document.querySelectorAll('input[type="radio"]:checked');
		if(radios.length>0) value=radios[0].value;
		
        var x = document.getElementById("secondquest");
        if (x.style.display === "block") {
			value = 1;
		}
		return value;
	}
    function check() { //1st-tier
		if(!radioCheck_OK()) {
			document.getElementById('misconcept').innerHTML = '<font color=red>請選答 !</font><br>'
			return;
		}
        togglesecond();
        var lock = 'item' + cans;
        document.getElementById(lock).style.color = "red";
        for (var w = 0; w <= 4; w++)
            document.getElementById(close[w]).disabled = true;
        shprob_2();
		document.getElementById('misconcept').innerHTML = '';
    }

	function gameover(){
        for (var w = 0; w <= 4; w++){
            document.getElementById(close[w]).disabled = true;
			document.getElementById(second_close[w]).disabled = true;
		}
		report();
		COUNTDOWN = TIME_OFF;
	}
	
    function check2() { //2nd-tier
        var msg = "",
            x1;
        if (firstans[pn] == cans && secondans[pn] == cans2) {
            msg = "Correct!!";
            rec[pn] = 1;
        } else {
            msg = "InCorrect!!";
			rec[pn] = 0;
        }
		
		score_sumup();
				
		if (pn < (TOTAL_QUESTION_ITEMS-1)) {
			pn++;
		}else{
			document.getElementById('misconcept').innerHTML = '<font color=blue>測驗結束 .</font><br>';
			gameover();
			return;
		}
        togglesecond()
        for (var w = 0; w <= 4; w++) {
            document.getElementById(close[w]).disabled = false;
            document.getElementById(close[w]).checked = false;
            document.getElementById(second_close[w]).disabled = false;
            document.getElementById(second_close[w]).checked = false;
            z = w < 4 ? w + 1 : w;
            var lock = 'item' + z;
            var lock2 = 'sitem' + z;
            document.getElementById(lock).style.color = "black";
            document.getElementById(lock2).style.color = "black";
        }

        shprob();
        document.getElementById('show1').innerHTML = msg;
        report();
		document.getElementById('misconcept').innerHTML = '';
    }

    function suggest() {
		if (COUNTDOWN != TIME_OFF) {
			document.getElementById('misconcept').innerHTML = '<font color=red>目前答題中</font><br>'
			return;
		}
        var bug = '';
        var allpass = '<font color=blue>You are excellent!</font>';
        for (var i = 0; i < TOTAL_QUESTION_ITEMS; i++){
				if (rec[i] == 0) bug = bug + "第" + (i+1) + "題<font color=red>" + twotierQ[i*21] + "</font>答錯<br>";
			}
        if (bug == '')
            document.getElementById('misconcept').innerHTML = allpass;
        else
            document.getElementById('misconcept').innerHTML = bug;
    }

    function retest() {
		COUNTDOWN = TIME_ON;
		getQuiz();
        for (var w = 0; w <= 4; w++) {
            document.getElementById(close[w]).disabled = false;
            document.getElementById(close[w]).checked = false;
            document.getElementById(second_close[w]).disabled = false;
            document.getElementById(second_close[w]).checked = false;
            z = w < 4 ? w + 1 : w;
            var lock = 'item' + z;
            var lock2 = 'sitem' + z;
            document.getElementById(lock).style.color = "black";
            document.getElementById(lock2).style.color = "black";
        }
		
		var x = document.getElementById("secondquest");
		x.style.display = "none";
		
        var bug = '';
        document.getElementById('misconcept').innerHTML = bug;
        pn = 0;
        sc = 0;
        cans = 0;
        report();
        shprob();
		document.getElementById('show1').innerHTML = '';
		window.document.getElementById('score').innerHTML = 'score:0';
    }

    function togglesecond() { //show or hide
        var x = document.getElementById("secondquest");
        if (x.style.display === "none") {
            x.style.display = "block";
        } else {
            x.style.display = "none";
        }
    }

</script>

<body onload="getQuiz();shprob();">
<div class='fontA'>
    <table border="1" style="font-size:24px; border:2px #00DBDB solid;">
        <tr>
            <td>
                <span id='voc'></span><br>
                <input type=radio name=q1 onclick='cans=1;' id='s1'><span id='item1'></span><br>
                <input type=radio name=q1 onclick='cans=2;' id='s2'><span id='item2'></span><br>
                <input type=radio name=q1 onclick='cans=3;' id='s3'><span id='item3'></span><br>
                <input type=radio name=q1 onclick='cans=4;' id='s4'><span id='item4'></span><br><br>
                <button onclick="check();" id='c1' style="font-size: .25in; font-weight: bold; color: #0000FF">check answer(1st-tier)</button>
            </td>
            <td>
                <div id='secondquest' style='display: none;'>
                    <span id='secq'></span>的原因:<br>
                    <input type=radio name=q2 onclick='cans2=1;' id='ss1'><span id='sitem1'></span><br>
                    <input type=radio name=q2 onclick='cans2=2;' id='ss2'><span id='sitem2'></span><br>
                    <input type=radio name=q2 onclick='cans2=3;' id='ss3'><span id='sitem3'></span><br>
                    <input type=radio name=q2 onclick='cans2=4;' id='ss4'><span id='sitem4'></span><br><br>
                    <button onclick="check2();" id='c2' style="font-size: .25in; font-weight: bold; color: #0000FF">check answer(2nd-tier)</button>
                </div>
            </td>
		</tr>
    </table>
    <p id='score'> Score:0</p>
    <p id='show1'> </p>
    <button onclick='suggest();' style="font-size: .25in; font-weight: bold; color: #FF0000">learning diagnosis</button>
    <p id='misconcept'> </p>
    <button onclick="retest();" style="font-size: .25in; font-weight: bold;">重新挑戰</button>
    <script>
        function shprob() {
            if (pn < TOTAL_QUESTION_ITEMS) {
                document.getElementById('voc').innerHTML = (pn + 1).toString() + ". " +twotierQ[pn * 21 + 0];
                document.getElementById('item1').innerHTML = twotierQ[pn * 21 + 1];
                document.getElementById('item2').innerHTML = twotierQ[pn * 21 + 2];
                document.getElementById('item3').innerHTML = twotierQ[pn * 21 + 3];
                document.getElementById('item4').innerHTML = twotierQ[pn * 21 + 4];
            }
        } //shprob()

        function shprob_2() {
            if (pn < TOTAL_QUESTION_ITEMS) { //cans
                document.getElementById('secq').innerHTML = twotierQ[pn * 21 + cans];
                document.getElementById('sitem1').innerHTML = twotierQ[pn * 21 + cans * 4 + 1]; //cans==1, pn*20+cans*4+1 
                document.getElementById('sitem2').innerHTML = twotierQ[pn * 21 + cans * 4 + 2];
                document.getElementById('sitem3').innerHTML = twotierQ[pn * 21 + cans * 4 + 3];
                document.getElementById('sitem4').innerHTML = twotierQ[pn * 21 + cans * 4 + 4];
            }
        } //shprob_2()

    </script>
</div>
</body>

</html>
