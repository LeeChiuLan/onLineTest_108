<!DOCTYPE html>
<html>
<head>
<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>
</head>
<script>
var test_title=['循序單選題','隨機單選題','選項隨機','二階層診斷','動態評量'];
var test_score=[6,3,2,8,0];
var test_totaltime=[82,76,93,54,89];
var MAX_ARRAY_NUMBER = 5;
var name="Lee";
var id="G107";
var messages;

function update(index,title,score,totaltime)
{
	if (index > MAX_ARRAY_NUMBER) return;

	test_title[index]=(title==null || title=="")?test_title[index]:title;
	test_score[index]=(score==null || score=="")?"未測":score;
	test_totaltime[index]=(totaltime==null || totaltime=="")?"0":totaltime;
}

function getItems()
{
	test_title_0=localStorage.getItem("test_title_0");
	test_score_0=localStorage.getItem("test_score_0");
	test_totaltime_0=localStorage.getItem("test_totaltime_0");
	update(0,test_title_0,test_score_0,test_totaltime_0);
}

function getAction()   
{
	getItems();
	messages=document.getElementById('messages');
	var content="";
	var prefixst="User: ";
	content="<h2>"+prefixst+id +"&nbsp;&nbsp;&nbsp;&nbsp;"+name+"</h2>";
	total_score = test_score.reduce((a,b)=>a+b);
	content=content+"<h2>總分:&nbsp;&nbsp;"+total_score.toString()+"</h2>";
	content=content+"<table>";
	total=test_title.length;
	tmp_txt ="<tr><th>項目</th><th>分數</th><th>費時(單位:秒)</th></tr>";
	for (var i = 0; i < total; i++) {
		tmp_txt = tmp_txt+"<tr><td>"+test_title[i]+"</td><td>"+test_score[i].toString()+"</td><td>"+test_totaltime[i].toString()+"</td></tr>";
		
    };
	
	messages.innerHTML =content+tmp_txt+"</table>";

}

</script>
<body onload="getAction();">

<ul id="messages"></ul>



</body>
</html>